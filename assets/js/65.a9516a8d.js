(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{263:function(t,e,n){"use strict";n.r(e);var r=n(0),s=Object(r.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"github接入"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#github接入"}},[t._v("#")]),t._v(" github接入")]),t._v(" "),n("p",[t._v("github的"),n("a",{attrs:{href:"https://developer.github.com/v3/oauth/",target:"_blank",rel:"noopener noreferrer"}},[t._v("文档"),n("OutboundLink")],1),t._v("其实说的已经很明白了按照文档一步一步操作就可以了")]),t._v(" "),n("p",[t._v("总的来说有一下三步：\n第一步:获取code"),n("br"),t._v("\n第二步:使用post获取access_token"),n("br"),t._v("\n第三步：根据access_token获取想要数据")]),t._v(" "),n("p",[t._v("首先需要创建一个"),n("a",{attrs:{href:"https://github.com/settings/applications/new",target:"_blank",rel:"noopener noreferrer"}},[t._v("应用"),n("OutboundLink")],1),t._v("页面如下"),n("br"),t._v(" "),n("img",{attrs:{src:"http://7xl9u9.com1.z0.glb.clouddn.com/2016-09-18_09-36-19.png",alt:"image"}}),t._v("\n填写以上四个信息即可，填写完成效果如下：\n"),n("img",{attrs:{src:"http://7xl9u9.com1.z0.glb.clouddn.com/2016-09-18_09-46-07.png",alt:"image"}}),t._v("\n点击进如可看到如下信息"),n("br"),t._v(" "),n("img",{attrs:{src:"http://7xl9u9.com1.z0.glb.clouddn.com/2016-09-18_09-38-52.png",alt:"image"}}),t._v("\n可以得到一个Client ID 和 Client Secret 后面会用到。")]),t._v(" "),n("p",[t._v("第一步：\n在自己页面添加按钮点击跳转到git获取权限页面，页面地址为："),n("code",[t._v("https://github.com/login/oauth/authorize?client_id=client_id")]),t._v(" "),n("a",{attrs:{href:"https://github.com/login/oauth/authorize?client_id=fdbdb307432243b88b1e",target:"_blank",rel:"noopener noreferrer"}},[t._v("我的例子在这里"),n("OutboundLink")],1),t._v(" 效果如图：")]),t._v(" "),n("p",[n("img",{attrs:{src:"http://7xl9u9.com1.z0.glb.clouddn.com/2016-09-18_10-53-00.png",alt:"image"}}),t._v("\n如果不同意直接叉掉页面即可，如果同意则跳转到设置的授权回调地址,会带一个名为code的参数")]),t._v(" "),n("p",[t._v("第二步：\n根据"),n("code",[t._v("client_id")]),t._v(","),n("code",[t._v("client_secret")]),t._v(","),n("code",[t._v("code")]),t._v("三个参数使用POST方法获取"),n("code",[t._v("access_token")]),t._v("返回的不止这一个还有其他参数\n"),n("code",[t._v("access_token=e72e16c7e42f292c6912e7710c838347ae178b4a&scope=user%2Cgist&token_type=bearer")])]),t._v(" "),n("p",[t._v("第三步：\n通过"),n("code",[t._v("access_token")]),t._v(" 就可以使用github 提供的API了。"),n("br"),t._v("\n使用get请求"),n("code",[t._v("https://api.github.com/user?access_token=access_token")]),t._v("\n即可获取用户相关信息")]),t._v(" "),n("h1",{attrs:{id:"新浪微博接入"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#新浪微博接入"}},[t._v("#")]),t._v(" 新浪微博接入")]),t._v(" "),n("p",[t._v("新浪的接入"),n("a",{attrs:{href:"http://open.weibo.com/wiki/Oauth2/authorize",target:"_blank",rel:"noopener noreferrer"}},[t._v("文档"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("创建"),n("a",{attrs:{href:"http://open.weibo.com/apps",target:"_blank",rel:"noopener noreferrer"}},[t._v("应用"),n("OutboundLink")],1),t._v("创建后页面如下"),n("br"),t._v(" "),n("img",{attrs:{src:"http://7xl9u9.com1.z0.glb.clouddn.com/2016-09-18_14-36-02.png",alt:"image"}})]),t._v(" "),n("p",[t._v("在接口管理，授权机制页面设置"),n("code",[t._v("授权回调页")]),t._v("和"),n("code",[t._v("取消授权回调页")]),t._v("地址\n在网站信息和基本信息里可以看到"),n("code",[t._v("App Key")]),t._v("和"),n("code",[t._v("App Secret")])]),t._v(" "),n("p",[t._v("第一步：\n在自己页面添加按钮点击跳转到新浪微博获取权限页面，页面地址为："),n("code",[t._v("https://api.weibo.com/oauth2/authorize?client_id=client_id&redirect_uri=redirect_uri")]),t._v(" "),n("a",{attrs:{href:"https://api.weibo.com/oauth2/authorize?client_id=2139214853&redirect_uri=http://openks.duapp.com/oauth?t=weibo",target:"_blank",rel:"noopener noreferrer"}},[t._v("我的例子在这里"),n("OutboundLink")],1),t._v(" 效果如图：")]),t._v(" "),n("p",[n("img",{attrs:{src:"http://7xl9u9.com1.z0.glb.clouddn.com/2016-09-18_14-17-41.png",alt:"image"}}),t._v("\n如果不同意直接叉掉页面即可，如果同意则跳转到设置的授权回调地址,会带一个名为code的参数")]),t._v(" "),n("p",[t._v("第二步：")]),t._v(" "),n("p",[t._v("根据"),n("code",[t._v("client_id(即AppKey)")]),t._v(","),n("code",[t._v("client_secret(即AppSecret)")]),t._v(","),n("code",[t._v("grant_type(需填写authorization_code)")]),t._v(","),n("code",[t._v("redirect_uri")]),t._v(","),n("code",[t._v("code(上一步返回的)")]),t._v("五个必须参数使用POST方法从"),n("code",[t._v("https://api.weibo.com/oauth2/access_token")]),t._v("获取"),n("code",[t._v("access_token")]),t._v("返回的不止这一个还有其他参数")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"access_token"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ACCESS_TOKEN"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"expires_in"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1234")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"remind_in"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"798114"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uid"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"12341234"')]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("第三步："),n("br"),t._v("\n通过"),n("code",[t._v("access_token")]),t._v("及相关数据就可以使用微博提供的API了。"),n("br"),t._v("\n使用get请求"),n("code",[t._v("https://api.weibo.com/2/users/show.json?access_token=access_token&uid=uid")]),t._v("其中uid为要查询用户id\n即可获取用户相关信息")]),t._v(" "),n("h1",{attrs:{id:"实现思路"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#实现思路"}},[t._v("#")]),t._v(" 实现思路")]),t._v(" "),n("p",[t._v("点击使用第三方登录后跳转授权页面，授权完成后拿到"),n("code",[t._v("access_token")]),t._v(",根据"),n("code",[t._v("access_token")]),t._v("拿到用户id,把第三方名称加第三方用户id拼接字符串作为自己数据库里用户id,并设置为用户已登录，然后跳转页面到已登录页面，进入自己系统逻辑即可。")])])}),[],!1,null,null,null);e.default=s.exports}}]);