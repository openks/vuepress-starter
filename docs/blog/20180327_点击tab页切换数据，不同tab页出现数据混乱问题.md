---
title: 20180327_点击tab页切换数据，不同tab页出现数据混乱问题
date: 2018-03-27 15:44:18  
description: 20180327_点击tab页切换数据，不同tab页出现数据混乱问题
---
# 20180327_点击tab页切换数据，不同tab页出现数据混乱问题
**前提条件：**   
一个页面有3个tab,点击不同tab分别加载不同数据，每次点击都会从服务端重新加载一次数据  
 
**问题：**   
tab分别为A,B,C 点击A时发送请求,在请求返回结果时判断当前选中的是哪个tab
根据当前tab把返回值填充到哪个tab的data数据里     
聪明如你，可能已经发现这种设计的问题了  
如果快速切换先点A立马再点B可能返回A的数据但填充的是B的表格，就很容易造成数据错乱  
 
**解决方案：**    
1. ajax请求时把a,b,c作为冗余项传给服务端，服务端可以不作处理，返回结果根据该冗余项给A,B,C的某个tab的data进行赋值，确保tab与数据不混乱  
2. 判断ajax请求结果是否可缓存，如果可缓存则只需要请求3次缓存数据即可大大减少请求数据
 